
<div *ngIf="!this.loading">

  <h1>Community Owner: {{ communityInfo.ownerId }}</h1>

  <input
    type="text"
    class="form-control"
    [formControl]="communityRefForm"
    placeholder="Enter new Community Ref (used in URLs and to search your community)"
  >

  <div id="edit-ref-warnings">
    <div
      *ngIf="communityRefForm.hasError('pattern')"
      class="alert alert-danger"
      role="alert">
      Community Locator must... <br>
      <ul>
        <li>only contain lowercase letters (a-z) , numbers (0-9) , and hyphens (-) .</li>
        <li>Locator must not begin or end with a hyphen (-)</li>
        <li>Locator must not begin with a number (0-9)</li>
      </ul>
    </div>

    <div
      *ngIf="communityRefForm.getRawValue()!.length < 3 &&
            communityRefForm.getRawValue()!.length != 0"
      class="alert alert-danger"
      role="alert">
      Community Locator must be longer than 2 characters!
    </div>

    <div
      *ngIf="communityRefForm.getRawValue()!.length > 30"
      class="alert alert-danger"
      role="alert">
      Community Locator must be no longer than than 30 characters!
    </div>
  </div>

  <input
    type="text"
    class="form-control"
    [formControl]="communityDisplayNameForm"
    placeholder="Enter new Community Display Name"
  >

  <div id="edit-display-name-warnings">
    <div
      *ngIf="communityDisplayNameForm.getRawValue()!.length < 3 &&
            communityDisplayNameForm.getRawValue()!.length != 0"
      class="alert alert-danger"
      role="alert">
      Community Display Name must be longer than 2 characters!
    </div>

    <div
      *ngIf="communityDisplayNameForm.getRawValue()!.length > 100"
      class="alert alert-danger"
      role="alert">
      Community Display Name must be no longer than than 100 characters!
    </div>
  </div>

  <h2>Community Icon:</h2>
  <app-image-upload-and-crop
    [MAINTAIN_ASPECT_RATIO]="true"
    [ASPECT_RATIO]="1"
    [resetImageComponent]="this.resetEventEmitter"
    (imageCroppedAndReadyEvent)="uploadCommunityResource('icon',$event)">
  </app-image-upload-and-crop>

  <h2>Community Banner:</h2>
  <app-image-upload-and-crop
    [MAINTAIN_ASPECT_RATIO]="true"
    [ASPECT_RATIO]="16 / 9"
    [resetImageComponent]="this.resetEventEmitter"
    (imageCroppedAndReadyEvent)="uploadCommunityResource('banner',$event)">
  </app-image-upload-and-crop>

  <button
    class="btn btn-primary"
    [disabled]="this.communityRefForm.invalid||this.communityDisplayNameForm.invalid"
    (click)="updateCommunity()"
  >
    Update!
  </button>
</div>
