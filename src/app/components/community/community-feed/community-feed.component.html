<div class="post-feed" *ngIf="posts && membershipInfo && communityInfo; else loadingScreen">

  <div *ngIf="posts.length > 0; else noPosts"><div *ngFor="let post of posts; let i = index">

    <div class="post-card">


      <div *ngIf="votingEnabled() ;else altVoteCard">
        <div class="vote-card">
          <app-voting
            [postId]="post.postId"
            (voteUpdated)="postVoteUpdated($event, i)"
          ></app-voting>
          <h1 class="vote-count">{{ post.vote }}</h1>
        </div>
      </div>
      <ng-template #altVoteCard>
        <div class="vote-card">
          <div class="icon-tooltip-hover">
            <i class="bi bi-arrows-expand"></i>
          </div>
          <p class="icon-tooltip">Please join community to vote on posts!</p>
          <h1 class="vote-count">{{ post.vote }}</h1>
        </div>
      </ng-template>


      <h2><a [routerLink]="['post',post.postId]">{{ post.caption }}</a> <br>:{{ post.userInfo.displayName }}</h2>
      <p>{{ post.description }}</p>

      <div class="image-element-wrapper" *ngFor="let content of post.resources">
        <img class="image-element" [src]="content">
      </div>
    </div>
  </div></div>

</div>

<ng-template #noPosts>
  <div class="post-card">
    <h1>No posts to display!</h1>
  </div>
</ng-template>


<ng-template #loadingScreen>
  <div style="margin: 50px">
    <div class="spinner-border text-success" style="width: 3rem; height: 3rem;" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</ng-template>
