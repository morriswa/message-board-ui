<div *ngIf="userInfo && community">

  <app-community-header [userId]="userInfo.userId" [communityInfo]="community"></app-community-header>

  <div
    [ngClass]="{
      'header-buffer-no-picture': !community.resourceUrls.banner,
      'header-buffer-picture': community.resourceUrls.banner,
    }"></div>

  <br>

  <div
    id="community-content-wrapper"
    [ngClass]="{
    'community-content-wrapper':  community.resourceUrls.banner,
    'community-content-wrapper-no-banner-image':  !community.resourceUrls.banner
  }">

    <div id="community-info-slide">
      <p>now viewing community/{{ community.communityLocator }}</p>
      <h3>{{ community.displayName }}</h3>
      <p>{{ community.communityMemberCount }} Members!</p>

      <div id="community-buttons">
        <button
          class="btn btn-outline-secondary"
          [routerLink]="['/community',community.communityLocator]"
        >Feed</button>

        <button
          *ngIf="userIsCommunityMember||isCommunityOwner"
          class="btn btn-outline-primary"
          [routerLink]="['/community',community.communityLocator,'post']"
        >Post</button>

        <button
          *ngIf="isCommunityOwner"
          class="btn btn-secondary"
          [routerLink]="['/community',community.communityLocator,'edit']"
        >Edit</button>

        <button
          *ngIf="!userIsCommunityMember && !isCommunityOwner"
          class="btn btn-outline-secondary"
          (click)="joinCommunity()"
        >Join</button>

        <button
          *ngIf="userIsCommunityMember && !isCommunityOwner"
          class="btn btn-outline-secondary"
          (click)="leaveCommunity()"
        >Leave</button>
      </div>
    </div>

    <div  id="community-router">
      <router-outlet></router-outlet>
    </div>

  </div>
</div>
