
@if (currentCommunity.initialized) {

  <app-community-header [userId]="currentCommunity.membership.userId" [communityInfo]="currentCommunity.community"></app-community-header>

  <div
    [ngClass]="{
      'header-buffer-no-picture': !currentCommunity.community.resourceUrls.banner,
      'header-buffer-picture': currentCommunity.community.resourceUrls.banner,
    }"></div>

  <br>

  <div
    id="community-content-wrapper"
    [ngClass]="{
      'community-content-wrapper':  currentCommunity.community.resourceUrls.banner,
      'community-content-wrapper-no-banner-image':  !currentCommunity.community.resourceUrls.banner
    }">

    <div id="community-info-slide">
      <p>now viewing community/{{ currentCommunity.community.communityLocator }}</p>
      <h3>{{ currentCommunity.community.displayName }}</h3>
      <p>{{ currentCommunity.community.communityMemberCount }} Members!</p>


      <div id="community-buttons">
        <button
          class="btn btn-outline-secondary"
          [routerLink]="['/community',currentCommunity.community.communityLocator]"
        >Feed</button>

        <button
          *ngIf="currentCommunity.isCommunityOwner||currentCommunity.isCommunityMember"
          class="btn btn-outline-primary"
          [routerLink]="['/community',currentCommunity.community.communityLocator,'post']"
        >Post</button>

        <button
          *ngIf="currentCommunity.isCommunityOwner"
          class="btn btn-secondary"
          [routerLink]="['/community',currentCommunity.community.communityLocator,'edit']"
        >Edit</button>

        <button
          *ngIf="!currentCommunity.isCommunityMember && !currentCommunity.isCommunityOwner"
          class="btn btn-outline-secondary"
          (click)="joinCommunity()"
        >Join</button>

        <button
          *ngIf="currentCommunity.isCommunityMember && !currentCommunity.isCommunityOwner"
          class="btn btn-outline-secondary"
          (click)="leaveCommunity()"
        >Leave</button>
      </div>
    </div>

    <div  id="community-router">
      <router-outlet></router-outlet>
    </div>

  </div>
}