
@if (posts) {
  <div class="post-feed">
    @for (post of posts; track post.postId) {

      <div class="post-card">
  
        <div class="vote-card">
          <div class="icon-tooltip-hover">
            <i class="bi bi-arrows-expand"></i>
          </div>
          <p class="icon-tooltip">Please go to community page to vote on posts!</p>
          <h1 class="vote-count">{{ post.vote }}</h1>
        </div>
  
        <h2>{{ post.caption }} <br>from <a [routerLink]="['/community', post.communityInfo.communityLocator]">{{ post.communityInfo.displayName }}</a></h2>
        <p>{{ post.description }}</p>
  
        @if (post.resources.length > 1) {
          <ngb-carousel style="width:min-content" [interval]="5000">
        
            <ng-template ngbSlide *ngFor="let image of post.resources">
              <div class="picsum-img-wrapper image-element-wrapper">
                <img class="image-element" [src]="image">
              </div>
            </ng-template>
            
          </ngb-carousel>
        } @else if (post.resources.length === 1) {
          <div class="image-element-wrapper">
            <img class="image-element" [src]="post.resources[0]">
          </div>
        }
      </div>
  
    } @empty {
      <div class="post-card">
        <h1>Join a community to start posting content!</h1>
      </div>
    } 
  </div>
} @else {
  <div style="margin: 50px">
    <div class="spinner-border text-success" style="width: 3rem; height: 3rem;" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
}
